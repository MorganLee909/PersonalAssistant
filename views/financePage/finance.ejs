<!DOCTYPE html>
<html>
    <head>
        <title>Finances</title>
        <link rel="stylesheet" href="/financePage/finance.css">
        <link rel="stylesheet" href="/shared/shared.css">
    </head>
    <body>
        <% include ../shared/header %>

        <% include ../shared/banner %>

        <div class="home">
            <div class="head">
                <h1>Account of <%=user.username%></h1>
                <h2>Balance: $<span id="balance"><%=user.account.balance.toFixed(2)%></span></h2>
            </div>

            <div class="horizontal">
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Location</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>

                <form onsubmit="financePage.newTransaction()">
                    <h3>New Transaction</h3>
                    
                    <label>Date
                        <input type="date" id="date" required>
                    </label>

                    <label>Category
                        <input type="text" id="category" required>
                    </label>

                    <label>Location
                        <input id="location" type="text">
                    </label>

                    <label>Note
                        <input type="text" id="note">
                    </label>

                    <label>Amount
                        <input id="amount" type="Number" step="0.01" required>
                    </label>

                    <input type="submit" value="Submit">
                </form>
            </div>
        </div>

        <div class="transaction">
            <div class="head">
                <h1>Account of <%=user.username%></h1>
                <h2>Balance: $<span id="balance"><%=user.account.balance.toFixed(2)%></span></h2>
            </div>

            <h4>Date: <span id="transDate"></span></h4>
            <h4>Category: <span id="transCategory"></span></h4>
            <h4>Location: <span id="transLocation"></span></h4>
            <h4>Amount: <span id="transAmount"></span></h4>
            <h4>Note: <span id="transNote"></span></h4>
        </div>

        <script>let user = <%- JSON.stringify(user) %>;</script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="/financePage/finance.js"></script>
    </body>
</html>