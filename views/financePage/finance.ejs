<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Finances</title>
        <link rel="stylesheet" href="/financePage/finance.css">
        <link rel="stylesheet" href="/shared/shared.css">
    </head>
    <body>
        
        <% include ../shared/header %>

        <% include ../shared/banner %>

        <finance-head strand="home"></finance-head>

        <div id="homeStrand">
            <div class="horizontal">
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Location</th>
                            <th>Category</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>

                <form onsubmit="homeObj.newTransaction()">
                    <h3>New Transaction</h3>
                    
                    <label>Date
                        <input type="date" id="date" required>
                    </label>

                    <label>Category
                        <select id="category" required></select>
                    </label>

                    <label>Location
                        <input id="location" type="text">
                    </label>

                    <label>Note
                        <input type="text" id="note">
                    </label>

                    <label>Amount
                        <input id="amount" type="Number" step="0.01" required>
                    </label>

                    <input type="submit" value="Submit">
                </form>
            </div>
        </div>

        <div id="transactionStrand">
            <div class="head">
                <h1>Account of <%=user.username%></h1>
                <h2>Balance: $<span id="transBalance"></span></h2>
            </div>

            <button id="returnButton">Return</button>

            <div class="transactionInfo">
                <h4>Date: <span id="transDate"></span></h4>
                <h4>Category: <span id="transCategory"></span></h4>
                <h4>Location: <span id="transLocation"></span></h4>
                <h4>Amount: <span id="transAmount"></span></h4>
                <h4>Note: <span id="transNote"></span></h4>
            </div>
        </div>

        <div id="categoriesStrand">
            <h1>Categories</h1>

            <div class="buttonDiv">
                <button onclick="homeObj.display()">Return</button>

                <button onclick="categoriesObj.newCategory()">New Category</button>
            </div>

            <div class="newCategory">
                <div class="categoryType">
                    <h3>What type of category is this?</h3>

                    <button onclick="categoriesObj.newCategoryForm('bill')">Bill</button>

                    <button onclick="categoriesObj.newCategoryForm('income')">Income</button>

                    <button onclick="categoriesObj.newCategoryForm('allowance')">Allowance</button>
                </div>

                <form id="newCategoryForm" onsubmit="categoriesObj.submitNewCategory()">
                    <label>Category name:
                        <input id="categoryName" type="text" required>
                    </label>

                    <label>Amount:
                        <input id="catAmount" type="number">
                    </label>

                    <input type="submit" value="Submit">
                </form>
            </div>

            <div class="tables">
                <div id="billTable" class="table">
                    <h3>Bills</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Location</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div id="incomeTable" class="table">
                    <h3>Income</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Location</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div id="allowanceTable" class="table">
                    <h3>Allowances</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Location</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div id="discretionaryTable" class="table">
                    <h3>Discretionary</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Location</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <script>let user = <%- JSON.stringify(user) %>;</script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="/shared/validation.js"></script>
        <script src="/shared/components.js"></script>
        <script src="/financePage/home.js"></script>
        <script src="/financePage/transaction.js"></script>
        <script src="/financePage/categories.js"></script>
        <script src="/financePage/controller.js"></script>
    </body>
</html>